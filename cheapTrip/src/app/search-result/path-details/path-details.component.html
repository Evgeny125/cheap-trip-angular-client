<section *ngFor="let rout of paths">
  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header expandedHeight="*" collapsedHeight="*">
        <mat-panel-title>
          <div class="icons">
            <ng-container *ngFor="let icon of rout.details['transport']">
              <span [innerHTML]="icon"></span>
            </ng-container>
          </div>
        </mat-panel-title>
        <mat-panel-description>
          <div class="description">
            <ul class="city">
              <li class="points" *ngFor="let point of rout.details['points']">
                {{ point }}<mat-icon [inline]="true">arrow_forward</mat-icon>
              </li>
            </ul>

            <p class="time">
              <span>{{ rout.details.duration_minutes }}</span>
              <span class="spacer"></span>
              <span>
                <mat-chip-list
                  ><mat-chip selected="true" class="price-top">
                    {{
                      rout.details.euro_price | currency: "EUR":"symbol":"1.2-2"
                    }}
                  </mat-chip></mat-chip-list
                ></span
              >
            </p>
          </div>
        </mat-panel-description>
      </mat-expansion-panel-header>

      <div
        class="details"
        *ngFor="let path of rout.details.direct_paths; let i = index"
      >
        <p>
          <span class="rout"
            >{{ path.from }}
            <mat-icon [inline]="true">arrow_forward</mat-icon>
            {{ path.to }}</span
          >
          <span class="spacer"></span>
          {{ getTransportName(path.transportation_type) }}
        </p>
        <p>
          <button
            class="buy-ticket-button"
            *ngIf="getTransportUrl(path) != ''"
            mat-stroked-button
            color="primary"
            (click)="openTransport(path)"
          >
            Buy ticket
          </button>

          <span class="time">{{ path.duration_minutes }}</span>

          <span class="spacer"> </span>
          <span class="currency">
            {{ path.euro_price | currency: "EUR":"symbol":"1.2-2" }}
          </span>
        </p>

        <p
          style="justify-content: center"
          *ngIf="path.transportation_type == 'Flight'"
        >
          duration includes transfer to/from airport
        </p>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</section>
